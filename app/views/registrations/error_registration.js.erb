
var $errorBox = $('<div>', { class: 'alert alert-error' }),
    $modalBoxBody = $("#userRegistrationModal .modal-body"),
    $modalErrorBox = $modalBoxBody.find("div.alert-error"),
    errorMessages = null;

// Generates a list of error messages found while registering the user
<% @user.errors.full_messages.each do |msg| %>
  if(errorMessages) {
    errorMessages += '<%= msg %><br />'
  } else {
    errorMessages = '<%= msg %><br />'
  }
<% end %>
$errorBox.html(errorMessages);

// Displays the error box on the modal registration box
if ($modalErrorBox.length != 0) {
  $modalErrorBox.html(errorMessages);
} else {
  $modalBoxBody.prepend($errorBox);
}
